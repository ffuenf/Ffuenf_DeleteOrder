language: php
sudo: false
cache:
  apt: true
  directories:
    - $HOME/.composer/cache
    - $HOME/.cache/bin
    - $HOME/.n98-magerun/modules
    - $HOME/.cache/magento
php:
- 5.5
- 5.6
- 7.0
- 7.1
- 7.2
matrix:
  fast_finish: true
  allow_failures:
  - php: 5.6
    env: MAGENTO_VERSION=ce-1.8.1.0
  - php: 7.0
  - php: 7.1
  - php: 7.2
env:
  global:
  - APPNAME=Ffuenf_DeleteOrder
  - secure: 2R4h7TgyLLVN4UfQNNonv/XVBvUopEdy4U0+9CpsAhzvYCY1hk2YJuTxNl9Rzs9vPH6bf4uSOvjtxChJwv8v5gTtodkP1NFTQidFxXi0j00/l7e8Zu/MuLSv9rdm5enRUoC8nV+xjkXcRjjGJuGBNkEMXjcqAwSoUaKxrB7kIcg=
  - secure: r1V0ctK+g1V/doRIOfCbvHZuOoBsjqVhULPndj5nEpZGzrgX1xm8vOpYIW7jdwrc8/TGpF4oqFzKDR4cdjhU43SJly3xmL9uCH30LzvT1cYuUbdD11TityLrVzUjogM6XZfvy+DGDS6QlE+8MRQpcdPjPew+Jr6vA6rsp0IvkIY=
  - secure: k4Qt3bzRAq5d+gn2hq+VyAz3lLi5CicknkuY+uFyf3Efdv1qY06kaENhiiDtrNum8Tc1dPFO4GZoJMKyKSJmvXwq6guJG5rKhjBdRAvXI7tMZE1bbW2pLOd349FFEIZOSOKgzilLkOlctsGh1QvFo20AhckCE6525zUDi4SM6TA=
  matrix:
  - MAGENTO_VERSION=ce-1.9.3.7
  - MAGENTO_VERSION=ce-1.9.2.4
  - MAGENTO_VERSION=ce-1.9.1.1
  - MAGENTO_VERSION=ce-1.8.1.0
  - MAGENTO_VERSION=ce-1.7.0.2
  - MAGENTO_VERSION=ce-1.6.2.0
before_install:
- curl -sSL https://raw.githubusercontent.com/ffuenf/MageTestStand/master/before_install.sh
  | bash
script:
- curl -sSL https://raw.githubusercontent.com/ffuenf/MageTestStand/master/script.sh
  | bash
deploy:
  provider: releases
  file:
  - "${APPNAME}-${TRAVIS_TAG}.zip"
  - "${APPNAME}-${TRAVIS_TAG}.tar.gz"
  skip_cleanup: true
  on:
    branch: master
    tags: true
  api_key:
    secure: I1igqcnodDXVTJxreY6lWtALUx+Njquim9NBmyBdsSt3ViKXrNBaYxmLgipzdm9qC1oQcdxuIvKdMIUUZTHRQBabHpWXfEt3jy4DI9QMUfjUGqGb2F6phiqKDLNXjME+JQlO+mGBCKgXwkHZdQvuVwrNkbcnFZrna7RTunwzkp4=
notifications:
  slack:
    secure: ftAq2hLQMkUmbjbQHK/ZbOE9DE564kb+SnuVlxV14up895e49z1Ro4dPv1+RaZoRnpfX5Ud1nyH9l9S78LwHa/+vTyGKUDvqoYiczVymwkXJttt5I/HsO9gbZHMWJGGBhAK8/6puDT3xVWVKdShFXMOMaegOkW6Shin0PewHfTA=
